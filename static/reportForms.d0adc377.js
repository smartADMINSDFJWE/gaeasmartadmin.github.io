import{d as I,r as v,h as u,v as E,m as o,p as ee,P as e,z as x,Z as O,$ as te,w as oe,o as M,n as ae,f as se,a0 as ne,b as A,S as X,i as k,j as _,l as c,k as B,y as L,X as le,Y as ie,C as $}from"./entry.08d69285.js";import{g as Y,e as Z,f as q,d as re,v as J}from"./el-loading.cafbd974.js";import{i as ce,j as de,k as pe,l as ue,E as me,n as _e,s as G}from"./utils.2fc1c99e.js";import{_ as fe}from"./client-only.bc3b3a26.js";import"./user.90e8bbb9.js";const ge={class:"relative"},he={class:"text-[#6E6E6E] absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 scale-[0.5] text-sm z-50"},ve=I({__name:"Refresh",emits:["toRefresh"],setup(y,{emit:h}){const l=v(!1),t=v(0),s=v(!1),f=()=>{if(s.value)return;l.value=!0,h("toRefresh"),s.value=!0,t.value=60;const d=setInterval(()=>{t.value--,t.value<=0&&(clearInterval(d),s.value=!1,l.value=!1)},1e3);setTimeout(()=>{l.value=!1},500),setInterval(()=>{s.value||f()},2e4)};return(d,g)=>(u(),E("div",ge,[o("span",{class:ee(["text-lg",["iconfont","icon-Refresh","text-[#6E6E6E]","cursor-pointer","rotate-icon",{rotate:e(l)}]]),onClick:f},null,2),o("span",he,x(e(t)>0?e(t):""),1)]))}});const be=O(ve,[["__scopeId","data-v-30174045"]]),xe={id:"statisticalLine",class:"w-full h-full"},ye=I({__name:"StatisticalLine",props:{data:{default:[]}},setup(y){const h=y,{$eChart:l}=ne(),t=te(),s=v(null),f=["T1","T2","T3","T4"];oe(()=>h.data,async()=>{d()});const d=async()=>{t.value&&t.value.dispose();const b=document.getElementById("statisticalLine");if(!b||b.clientWidth===0||b.clientHeight===0)return;t.value=l.init(b);const z=[0,0,0,0],i=[0,0,0,0];h.data.forEach(m=>{const w=m.type-1;w>=0&&w<4&&(z[w]=m.count||0,i[w]=m.usd||0)});const p={legend:{show:!0,itemWidth:12,itemHeight:12,top:"0%",icon:"circle",textStyle:{color:"#ffff",FontSize:16}},tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"}},grid:{top:"15%",left:"5%",right:"6%",bottom:"10%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:f},yAxis:[{type:"value",name:"",position:"left",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},{type:"value",name:"",position:"right",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"Sales Volume",data:z||[0,0,0,0],type:"line",smooth:!0,yAxisIndex:0,lineStyle:{color:"#7030A0",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}},{name:"Sales Amount(USD)",data:i||[0,0,0,0],type:"line",smooth:!0,yAxisIndex:1,lineStyle:{color:"#8489F7",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#8489F7",borderColor:"#8489F7",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}}]};t.value.setOption(p,!0)},g=()=>{t.value&&(s.value&&clearTimeout(s.value),s.value=setTimeout(()=>{t.value.resize()},300))};return M(async()=>{await ae(),setTimeout(d,500),window.addEventListener("resize",g,{passive:!0})}),se(()=>{t.value&&(window.removeEventListener("resize",g),t.value.dispose()),s.value&&clearTimeout(s.value)}),(b,z)=>(u(),E("div",xe))}}),we=y=>(le("data-v-30d6e307"),y=y(),ie(),y),Ce={class:"max-h-[90vh] overflow-hidden flex flex-col"},Se={key:0},Ee={class:"flex items-center justify-center space-x-1 cursor-pointer hover:text-[#ebebeb]"},ze=we(()=>o("span",{class:"iconfont icon-copy"},null,-1)),Be={class:"w-full h-[60px] flex items-center justify-center px-10 relative mt-4"},ke=I({__name:"CenerateCodeRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(y,{emit:h}){const l=v(!1),t=A({page:1,limit:10,active:!1}),s=A({content:[],totalElements:0}),f=()=>{h("update:closeDialog"),s.content=[],s.totalElements=0},d=()=>{g()},g=async()=>{try{l.value=!0;const i=await ce(t.page,t.limit);l.value=!1,i&&i&&i.code===200&&(s.content=i.data.map(p=>({...p,email:p.email||"-",userid:p.userid||"-",username:p.username||"-"})),s.totalElements=i.total)}catch{l.value=!1}finally{l.value=!1}},b=i=>{t.page=i},z=i=>{t.limit=i};return(i,p)=>{const m=Y,w=Z,a=q,r=re,T=fe,N=X("copy"),C=J;return u(),k(T,null,{default:_(()=>[c(r,{title:"",class:"border-box",draggable:"","model-value":i.$props.dialogVisible,"show-close":!1,width:"1100px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:f,onOpen:d},{default:_(()=>[o("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:f}),o("div",Ce,[B((u(),k(w,{data:e(s).content,style:{width:"100%"},"max-height":"500px",border:""},{empty:_(()=>[e(l)?L("",!0):(u(),E("div",Se,"No records available at the moment"))]),default:_(()=>[c(m,{prop:"code",label:"Code","min-width":"130px",align:"center"},{default:_(S=>{var D,R;return[B((u(),E("div",Ee,[o("span",null,x((D=S.row)==null?void 0:D.code),1),ze])),[[N,(R=S.row)==null?void 0:R.url]])]}),_:1}),c(m,{prop:"created_at",label:"Generation Time ","min-width":"130px",align:"center","show-overflow-tooltip":""}),c(m,{prop:"email",label:"Email","min-width":"130px",align:"center","show-overflow-tooltip":""}),c(m,{prop:"userid",label:"UserId ","min-width":"130px",align:"center","show-overflow-tooltip":""}),c(m,{prop:"username",label:"UsernName","min-width":"130px",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[C,e(l)]]),o("div",Be,[e(s).totalElements!==0?(u(),k(a,{key:0,"current-page":e(t).page,"onUpdate:currentPage":p[0]||(p[0]=S=>e(t).page=S),background:"",size:"small","page-size":e(t).limit,"onUpdate:pageSize":p[1]||(p[1]=S=>e(t).limit=S),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(s).totalElements,onCurrentChange:b,onSizeChange:z},null,8,["current-page","page-size","total"])):L("",!0)])])]),_:1},8,["model-value"])]),_:1})}}});const Te=O(ke,[["__scopeId","data-v-30d6e307"]]),De={class:"w-full h-full flex flex-col bg-black text-[#EBEBEB] adaptation-padding"},Re={class:"w-full flex-1 border border-[#3a3a3a] rounded-lg px-10 py-5 relative attribute"},$e={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Ae={class:"flex items-center justify-between"},Le=o("span",{class:"text-[20px] font-bold"},"Summary Data",-1),Ie={class:"flex items-center text-[20px] font-bold"},Ne=o("span",null,"Total : ",-1),Ue={class:"w-full h-fit border border-[#3a3a3a] rounded-lg mt-5 mb-3 relative attribute"},Ve={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Pe={class:"cursor-pointer hover:text-[#EBEBEB]"},je={class:"cursor-pointer hover:text-[#EBEBEB]"},Fe={class:"w-full h-[80px] flex items-center justify-center px-10 relative"},He={class:"flex items-center space-x-5 absolute top-1/2 -translate-y-1/2 right-0"},We={key:0,class:"flex items-center space-x-1 cursor-pointer text-[#ebebebc8] hover:text-[#ebebeb]"},Ge=o("span",{class:"iconfont icon-copy"},null,-1),Oe=o("span",{class:"text-black text-sm font-medium"},"Generate Code",-1),Me=o("span",null,"record",-1),Xe=o("span",{class:"iconfont icon-gengduo11"},null,-1),Ye=[Me,Xe],et=I({__name:"reportForms",setup(y){const h=v(),l=v(),t=v(!1),s=v(!1),f=v(!1),d=A({page:1,limit:10,active:!1}),g=A({content:[],totalElements:0}),b=a=>{d.page=a},z=a=>{d.limit=a},i=async()=>{try{const a=await de();h.value=a.data}catch{}},p=async()=>{try{t.value=!0;const a=await pe();l.value=a.data}catch{}finally{t.value=!1}},m=async()=>{try{f.value=!0;const a=await ue(d.page,d.limit);g.content=a.data||[],g.totalElements=a.total||0}catch{}finally{f.value=!1}},w=a=>{const r=a*.05;return Number.isInteger(r)?r.toString():r.toFixed(2)};return M(()=>{i(),m()}),(a,r)=>{var V,P,j,F,H,W;const T=be,N=ye,C=Y,S=Z,D=q,R=me,K=Te,U=X("copy"),Q=J;return u(),E("div",De,[o("div",Re,[o("div",$e,[c(T,{onToRefresh:r[0]||(r[0]=n=>i())})]),o("div",Ae,[Le,o("div",Ie,[Ne,o("span",null,x(((V=e(h))==null?void 0:V.total)||0),1)])]),c(N,{data:(P=e(h))==null?void 0:P.list},null,8,["data"])]),o("div",Ue,[o("div",Ve,[c(T,{onToRefresh:r[1]||(r[1]=n=>m())})]),B((u(),k(S,{data:e(g).content,style:{width:"100%","border-radius":"8px"},height:"48vh","header-row-class-name":"custom-header"},{default:_(()=>[c(C,{prop:"date",label:"Time",align:"center","show-overflow-tooltip":""},{default:_(n=>[$(x(("formatDate"in a?a.formatDate:e(_e))(n.row.date)),1)]),_:1}),c(C,{prop:"address",label:"User",align:"center","show-overflow-tooltip":""},{default:_(n=>[B((u(),E("span",Pe,[$(x(("stringStar"in a?a.stringStar:e(G))({value:n.row.address,characters:"********",start:4})),1)])),[[U,n.row.address]])]),_:1}),c(C,{prop:"parent_address",label:"Inviter",align:"center","show-overflow-tooltip":""},{default:_(n=>[B((u(),E("span",je,[$(x(("stringStar"in a?a.stringStar:e(G))({value:n.row.parent_address,characters:"********",start:4})),1)])),[[U,n.row.parent_address]])]),_:1}),c(C,{prop:"usd",label:"Amount(USD)",align:"center"}),c(C,{prop:"amount",label:"Rebate Amount(USD)",align:"center"},{default:_(n=>[o("span",null,x(w(n.row.usd)),1)]),_:1}),c(C,{label:"type",align:"center"},{default:_(n=>[$(" T"+x(n.row.type),1)]),_:1})]),_:1},8,["data"])),[[Q,e(f)]])]),o("div",Fe,[((j=e(g).content)==null?void 0:j.length)!==0?(u(),k(D,{key:0,"current-page":e(d).page,"onUpdate:currentPage":r[2]||(r[2]=n=>e(d).page=n),background:"",size:"small","page-size":e(d).limit,"onUpdate:pageSize":r[3]||(r[3]=n=>e(d).limit=n),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(g).totalElements,onCurrentChange:b,onSizeChange:z},null,8,["current-page","page-size","total"])):L("",!0),o("div",He,[(F=e(l))!=null&&F.code?B((u(),E("div",We,[o("span",null,x((H=e(l))==null?void 0:H.code),1),Ge])),[[U,(W=e(l))==null?void 0:W.url]]):L("",!0),c(R,{class:"w-[180px]",color:"#ebebeb",round:"",onClick:p,loading:e(t)},{default:_(()=>[Oe]),_:1},8,["loading"]),o("div",{class:"flex items-center text-[#ebebebc8] hover:text-[#ebebeb] cursor-pointer",onClick:r[4]||(r[4]=n=>s.value=!0)},Ye)])]),c(K,{"dialog-visible":e(s),"onUpdate:closeDialog":r[5]||(r[5]=n=>s.value=!1)},null,8,["dialog-visible"])])}}});export{et as default};
