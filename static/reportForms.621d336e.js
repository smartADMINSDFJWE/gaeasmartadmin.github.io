import{d as V,r as v,h as u,v as C,m as t,p as X,S as e,z as f,a1 as M,b as $,R as q,i as z,j as p,l as s,k as y,y as I,$ as Y,a0 as Z,o as ee,C as D}from"./entry.f840a4c6.js";import{g as J,e as K,f as Q,d as te,v as W}from"./el-loading.02975f41.js";import{j as oe,k as ae,l as se,n as ne,E as le,o as re,s as F}from"./el-input.27279c5e.js";import{_ as ie}from"./client-only.eaa5c026.js";import"./user.51ed2f8b.js";const ce={class:"relative"},de={class:"text-[#6E6E6E] absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 scale-[0.5] text-sm z-50"},pe=V({__name:"Refresh",emits:["toRefresh"],setup(E,{emit:w}){const l=v(!1),n=v(0),r=v(!1),g=()=>{if(r.value)return;l.value=!0,w("toRefresh"),r.value=!0,n.value=60;const d=setInterval(()=>{n.value--,n.value<=0&&(clearInterval(d),r.value=!1,l.value=!1)},1e3);setTimeout(()=>{l.value=!1},500),setInterval(()=>{r.value||g()},2e4)};return(d,b)=>(u(),C("div",ce,[t("span",{class:X(["text-lg",["iconfont","icon-Refresh","text-[#6E6E6E]","cursor-pointer","rotate-icon",{rotate:e(l)}]]),onClick:g},null,2),t("span",de,f(e(n)>0?e(n):""),1)]))}});const ue=M(pe,[["__scopeId","data-v-30174045"]]),_e=E=>(Y("data-v-40274311"),E=E(),Z(),E),me={class:"max-h-[90vh] overflow-hidden flex flex-col"},ge={key:0},fe={class:"flex items-center justify-center space-x-1 cursor-pointer hover:text-[#ebebeb]"},ve=_e(()=>t("span",{class:"iconfont icon-copy"},null,-1)),be={class:"w-full h-[60px] flex items-center justify-center px-10 relative mt-4"},he=V({__name:"CenerateCodeRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(E,{emit:w}){const l=v(!1),n=$({page:1,limit:10,active:!1}),r=$({content:[],totalElements:0}),g=()=>{w("update:closeDialog"),r.content=[],r.totalElements=0},d=()=>{b()},b=async()=>{try{l.value=!0;const i=await oe(n.page,n.limit);l.value=!1,i&&i&&i.code===200&&(r.content=i.data.map(_=>({..._,email:_.email||"-",userid:_.userid||"-",username:_.username||"-"})),r.totalElements=i.total)}catch{l.value=!1}finally{l.value=!1}},N=i=>{n.page=i},P=i=>{n.limit=i};return(i,_)=>{const h=J,o=K,c=Q,R=te,m=ie,S=q("copy"),T=W;return u(),z(m,null,{default:p(()=>[s(R,{title:"",class:"border-box",draggable:"","model-value":i.$props.dialogVisible,"show-close":!1,width:"1100px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:g,onOpen:d},{default:p(()=>[t("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:g}),t("div",me,[y((u(),z(o,{data:e(r).content,style:{width:"100%"},"max-height":"500px",border:""},{empty:p(()=>[e(l)?I("",!0):(u(),C("div",ge,"No records available at the moment"))]),default:p(()=>[s(h,{prop:"code",label:"Code","min-width":"130px",align:"center"},{default:p(x=>{var B,k;return[y((u(),C("div",fe,[t("span",null,f((B=x.row)==null?void 0:B.code),1),ve])),[[S,(k=x.row)==null?void 0:k.url]])]}),_:1}),s(h,{prop:"created_at",label:"Generation Time ","min-width":"130px",align:"center","show-overflow-tooltip":""}),s(h,{prop:"email",label:"Email","min-width":"130px",align:"center","show-overflow-tooltip":""}),s(h,{prop:"userid",label:"Agent ID ","min-width":"130px",align:"center","show-overflow-tooltip":""}),s(h,{prop:"username",label:"Agent","min-width":"130px",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[T,e(l)]]),t("div",be,[e(r).totalElements!==0?(u(),z(c,{key:0,"current-page":e(n).page,"onUpdate:currentPage":_[0]||(_[0]=x=>e(n).page=x),background:"",size:"small","page-size":e(n).limit,"onUpdate:pageSize":_[1]||(_[1]=x=>e(n).limit=x),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(r).totalElements,onCurrentChange:N,onSizeChange:P},null,8,["current-page","page-size","total"])):I("",!0)])])]),_:1},8,["model-value"])]),_:1})}}});const xe=M(he,[["__scopeId","data-v-40274311"]]),we={class:"w-full h-full flex flex-col bg-black text-[#EBEBEB] adaptation-padding"},ye={class:"w-full border border-[#3a3a3a] rounded-lg px-10 py-5 relative attribute"},Ce={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Ee={class:"flex items-center justify-between"},ze=t("span",{class:"text-[20px] font-bold"},"Summary Data",-1),ke={class:"flex items-center text-[20px] font-bold"},De=t("span",null,"Total : ",-1),Re={class:"w-full flex-1 border border-[#3a3a3a] rounded-lg mt-5 mb-3 relative attribute"},Se={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Be={class:"cursor-pointer hover:text-[#EBEBEB]"},$e={class:"cursor-pointer hover:text-[#EBEBEB]"},Ie={class:"w-full h-[80px] flex items-center justify-center px-10 relative"},Ne={class:"flex items-center space-x-5 absolute top-1/2 -translate-y-1/2 right-0"},Pe={key:0,class:"flex items-center space-x-1 cursor-pointer text-[#ebebebc8] hover:text-[#ebebeb]"},Te=t("span",{class:"iconfont icon-copy"},null,-1),Ae=t("span",{class:"text-black text-sm font-medium"},"Generate Code",-1),Ve=t("span",null,"record",-1),je=t("span",{class:"iconfont icon-gengduo11"},null,-1),Ue=[Ve,je],Me=V({__name:"reportForms",setup(E){const w=v(),l=v(),n=v(!1),r=v(!1),g=v(!1),d=$({page:1,limit:10,active:!1}),b=$({content:[],totalElements:0}),N=o=>{d.page=o},P=o=>{d.limit=o},i=async()=>{try{const o=await ae();w.value=o.data}catch{}},_=async()=>{try{n.value=!0;const o=await se();l.value=o.data}catch{}finally{n.value=!1}},h=async()=>{try{g.value=!0;const o=await ne(d.page,d.limit);b.content=o.data||[],b.totalElements=o.total||0}catch{}finally{g.value=!1}};return ee(()=>{i(),h()}),(o,c)=>{var j,U,G,L,H,O;const R=ue,m=J,S=K,T=Q,x=le,B=xe,k=W,A=q("copy");return u(),C("div",we,[t("div",ye,[t("div",Ce,[s(R,{onToRefresh:c[0]||(c[0]=a=>i())})]),t("div",Ee,[ze,t("div",ke,[De,t("span",null,f(((j=e(w))==null?void 0:j.total)||0),1)])]),y((u(),z(S,{data:(U=e(w))==null?void 0:U.list,style:{width:"100%","border-radius":"8px"},height:"auto","max-height":"300px","header-row-class-name":"custom-header"},{default:p(()=>[s(m,{label:"type",align:"center"},{default:p(a=>[D(" P"+f(a.row.type),1)]),_:1}),s(m,{prop:"count",label:"count",align:"center"}),s(m,{prop:"usd",label:"usd",align:"center"})]),_:1},8,["data"])),[[k,e(g)]])]),t("div",Re,[t("div",Se,[s(R,{onToRefresh:c[1]||(c[1]=a=>h())})]),y((u(),z(S,{data:e(b).content,style:{width:"100%","border-radius":"8px"},"header-row-class-name":"custom-header"},{default:p(()=>[s(m,{prop:"date",label:"time",align:"center","show-overflow-tooltip":""},{default:p(a=>[D(f(("formatDate"in o?o.formatDate:e(re))(a.row.date)),1)]),_:1}),s(m,{prop:"address",label:"buyer",align:"center","show-overflow-tooltip":""},{default:p(a=>[y((u(),C("span",Be,[D(f(("stringStar"in o?o.stringStar:e(F))({value:a.row.address,characters:"********",start:4})),1)])),[[A,a.row.address]])]),_:1}),s(m,{prop:"parent_address",label:"Seller",align:"center","show-overflow-tooltip":""},{default:p(a=>[y((u(),C("span",$e,[D(f(("stringStar"in o?o.stringStar:e(F))({value:a.row.parent_address,characters:"********",start:4})),1)])),[[A,a.row.parent_address]])]),_:1}),s(m,{prop:"username",label:"agent",align:"center"}),s(m,{prop:"usd",label:"amount(USD)",align:"center"}),s(m,{label:"type",align:"center"},{default:p(a=>[D(" P"+f(a.row.type),1)]),_:1})]),_:1},8,["data"])),[[k,e(g)]])]),t("div",Ie,[((G=e(b).content)==null?void 0:G.length)!==0?(u(),z(T,{key:0,"current-page":e(d).page,"onUpdate:currentPage":c[2]||(c[2]=a=>e(d).page=a),background:"",size:"small","page-size":e(d).limit,"onUpdate:pageSize":c[3]||(c[3]=a=>e(d).limit=a),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(b).totalElements,onCurrentChange:N,onSizeChange:P},null,8,["current-page","page-size","total"])):I("",!0),t("div",Ne,[(L=e(l))!=null&&L.code?y((u(),C("div",Pe,[t("span",null,f((H=e(l))==null?void 0:H.code),1),Te])),[[A,(O=e(l))==null?void 0:O.url]]):I("",!0),s(x,{class:"w-[180px]",color:"#ebebeb",round:"",onClick:_,loading:e(n)},{default:p(()=>[Ae]),_:1},8,["loading"]),t("div",{class:"flex items-center text-[#ebebebc8] hover:text-[#ebebeb] cursor-pointer",onClick:c[4]||(c[4]=a=>r.value=!0)},Ue)])]),s(B,{"dialog-visible":e(r),"onUpdate:closeDialog":c[5]||(c[5]=a=>r.value=!1)},null,8,["dialog-visible"])])}}});export{Me as default};
