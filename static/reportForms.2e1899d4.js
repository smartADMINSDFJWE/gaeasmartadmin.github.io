import{d as A,r as v,h as u,v as S,m as a,p as Z,S as e,z as C,a1 as O,a2 as ee,w as te,o as M,n as oe,f as ae,a3 as se,b as $,R as q,i as B,j as g,l as r,k as z,y as L,$ as ne,a0 as le,C as R}from"./entry.54a3cae8.js";import{g as J,e as K,f as Q,d as ie,v as X}from"./el-loading.f883027b.js";import{j as re,k as ce,l as de,n as pe,E as ue,o as _e,s as G}from"./el-input.d422d341.js";import{_ as fe}from"./client-only.ef8fd8bc.js";import"./user.1b68655a.js";const me={class:"relative"},ge={class:"text-[#6E6E6E] absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 scale-[0.5] text-sm z-50"},he=A({__name:"Refresh",emits:["toRefresh"],setup(x,{emit:h}){const n=v(!1),t=v(0),s=v(!1),f=()=>{if(s.value)return;n.value=!0,h("toRefresh"),s.value=!0,t.value=60;const c=setInterval(()=>{t.value--,t.value<=0&&(clearInterval(c),s.value=!1,n.value=!1)},1e3);setTimeout(()=>{n.value=!1},500),setInterval(()=>{s.value||f()},2e4)};return(c,m)=>(u(),S("div",me,[a("span",{class:Z(["text-lg",["iconfont","icon-Refresh","text-[#6E6E6E]","cursor-pointer","rotate-icon",{rotate:e(n)}]]),onClick:f},null,2),a("span",ge,C(e(t)>0?e(t):""),1)]))}});const ve=O(he,[["__scopeId","data-v-30174045"]]),be={id:"statisticalLine",class:"w-full h-full"},xe=A({__name:"StatisticalLine",props:{data:{default:[]}},setup(x){const h=x,{$eChart:n}=se(),t=ee(),s=v(null),f=["T1","T2","T3","T4"];te(()=>h.data,async()=>{c()});const c=async()=>{t.value&&t.value.dispose();const b=document.getElementById("statisticalLine");if(!b||b.clientWidth===0||b.clientHeight===0)return;t.value=n.init(b);const E=[0,0,0,0],l=[0,0,0,0];h.data.forEach(_=>{const o=_.type-1;o>=0&&o<4&&(E[o]=_.count||0,l[o]=_.usd||0)});const p={legend:{show:!0,itemWidth:12,itemHeight:12,top:"0%",icon:"circle",textStyle:{color:"#ffff",FontSize:16}},tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"}},grid:{top:"15%",left:"5%",right:"6%",bottom:"10%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:f},yAxis:[{type:"value",name:"",position:"left",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},{type:"value",name:"",position:"right",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"Sales Volume",data:E||[0,0,0,0],type:"line",smooth:!0,yAxisIndex:0,lineStyle:{color:"#7030A0",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}},{name:"Sales Amount(USD)",data:l||[0,0,0,0],type:"line",smooth:!0,yAxisIndex:1,lineStyle:{color:"#8489F7",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#8489F7",borderColor:"#8489F7",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}}]};t.value.setOption(p,!0)},m=()=>{t.value&&(s.value&&clearTimeout(s.value),s.value=setTimeout(()=>{t.value.resize()},300))};return M(async()=>{await oe(),setTimeout(c,500),window.addEventListener("resize",m,{passive:!0})}),ae(()=>{t.value&&(window.removeEventListener("resize",m),t.value.dispose()),s.value&&clearTimeout(s.value)}),(b,E)=>(u(),S("div",be))}}),ye=x=>(ne("data-v-30d6e307"),x=x(),le(),x),we={class:"max-h-[90vh] overflow-hidden flex flex-col"},Ce={key:0},Se={class:"flex items-center justify-center space-x-1 cursor-pointer hover:text-[#ebebeb]"},Ee=ye(()=>a("span",{class:"iconfont icon-copy"},null,-1)),ze={class:"w-full h-[60px] flex items-center justify-center px-10 relative mt-4"},Be=A({__name:"CenerateCodeRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(x,{emit:h}){const n=v(!1),t=$({page:1,limit:10,active:!1}),s=$({content:[],totalElements:0}),f=()=>{h("update:closeDialog"),s.content=[],s.totalElements=0},c=()=>{m()},m=async()=>{try{n.value=!0;const l=await re(t.page,t.limit);n.value=!1,l&&l&&l.code===200&&(s.content=l.data.map(p=>({...p,email:p.email||"-",userid:p.userid||"-",username:p.username||"-"})),s.totalElements=l.total)}catch{n.value=!1}finally{n.value=!1}},b=l=>{t.page=l},E=l=>{t.limit=l};return(l,p)=>{const _=J,o=K,d=Q,k=ie,I=fe,y=q("copy"),N=X;return u(),B(I,null,{default:g(()=>[r(k,{title:"",class:"border-box",draggable:"","model-value":l.$props.dialogVisible,"show-close":!1,width:"1100px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:f,onOpen:c},{default:g(()=>[a("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:f}),a("div",we,[z((u(),B(o,{data:e(s).content,style:{width:"100%"},"max-height":"500px",border:""},{empty:g(()=>[e(n)?L("",!0):(u(),S("div",Ce,"No records available at the moment"))]),default:g(()=>[r(_,{prop:"code",label:"Code","min-width":"130px",align:"center"},{default:g(w=>{var T,D;return[z((u(),S("div",Se,[a("span",null,C((T=w.row)==null?void 0:T.code),1),Ee])),[[y,(D=w.row)==null?void 0:D.url]])]}),_:1}),r(_,{prop:"created_at",label:"Generation Time ","min-width":"130px",align:"center","show-overflow-tooltip":""}),r(_,{prop:"email",label:"Email","min-width":"130px",align:"center","show-overflow-tooltip":""}),r(_,{prop:"userid",label:"UserId ","min-width":"130px",align:"center","show-overflow-tooltip":""}),r(_,{prop:"username",label:"UsernName","min-width":"130px",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[N,e(n)]]),a("div",ze,[e(s).totalElements!==0?(u(),B(d,{key:0,"current-page":e(t).page,"onUpdate:currentPage":p[0]||(p[0]=w=>e(t).page=w),background:"",size:"small","page-size":e(t).limit,"onUpdate:pageSize":p[1]||(p[1]=w=>e(t).limit=w),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(s).totalElements,onCurrentChange:b,onSizeChange:E},null,8,["current-page","page-size","total"])):L("",!0)])])]),_:1},8,["model-value"])]),_:1})}}});const ke=O(Be,[["__scopeId","data-v-30d6e307"]]),Te={class:"w-full h-full flex flex-col bg-black text-[#EBEBEB] adaptation-padding"},De={class:"w-full flex-1 border border-[#3a3a3a] rounded-lg px-10 py-5 relative attribute"},Re={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},$e={class:"flex items-center justify-between"},Le=a("span",{class:"text-[20px] font-bold"},"Summary Data",-1),Ae={class:"flex items-center text-[20px] font-bold"},Ie=a("span",null,"Total : ",-1),Ne={class:"w-full h-fit border border-[#3a3a3a] rounded-lg mt-5 mb-3 relative attribute"},Ue={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Ve={class:"cursor-pointer hover:text-[#EBEBEB]"},Pe={class:"cursor-pointer hover:text-[#EBEBEB]"},je={class:"w-full h-[80px] flex items-center justify-center px-10 relative"},He={class:"flex items-center space-x-5 absolute top-1/2 -translate-y-1/2 right-0"},Fe={key:0,class:"flex items-center space-x-1 cursor-pointer text-[#ebebebc8] hover:text-[#ebebeb]"},We=a("span",{class:"iconfont icon-copy"},null,-1),Ge=a("span",{class:"text-black text-sm font-medium"},"Generate Code",-1),Oe=a("span",null,"record",-1),Me=a("span",{class:"iconfont icon-gengduo11"},null,-1),qe=[Oe,Me],Ze=A({__name:"reportForms",setup(x){const h=v(),n=v(),t=v(!1),s=v(!1),f=v(!1),c=$({page:1,limit:10,active:!1}),m=$({content:[],totalElements:0}),b=o=>{c.page=o},E=o=>{c.limit=o},l=async()=>{try{const o=await ce();h.value=o.data}catch{}},p=async()=>{try{t.value=!0;const o=await de();n.value=o.data}catch{}finally{t.value=!1}},_=async()=>{try{f.value=!0;const o=await pe(c.page,c.limit);m.content=o.data||[],m.totalElements=o.total||0}catch{}finally{f.value=!1}};return M(()=>{l(),_()}),(o,d)=>{var V,P,j,H,F,W;const k=ve,I=xe,y=J,N=K,w=Q,T=ue,D=ke,U=q("copy"),Y=X;return u(),S("div",Te,[a("div",De,[a("div",Re,[r(k,{onToRefresh:d[0]||(d[0]=i=>l())})]),a("div",$e,[Le,a("div",Ae,[Ie,a("span",null,C(((V=e(h))==null?void 0:V.total)||0),1)])]),r(I,{data:(P=e(h))==null?void 0:P.list},null,8,["data"])]),a("div",Ne,[a("div",Ue,[r(k,{onToRefresh:d[1]||(d[1]=i=>_())})]),z((u(),B(N,{data:e(m).content,style:{width:"100%","border-radius":"8px"},height:"48vh","header-row-class-name":"custom-header"},{default:g(()=>[r(y,{prop:"date",label:"time",align:"center","show-overflow-tooltip":""},{default:g(i=>[R(C(("formatDate"in o?o.formatDate:e(_e))(i.row.date)),1)]),_:1}),r(y,{prop:"address",label:"buyer",align:"center","show-overflow-tooltip":""},{default:g(i=>[z((u(),S("span",Ve,[R(C(("stringStar"in o?o.stringStar:e(G))({value:i.row.address,characters:"********",start:4})),1)])),[[U,i.row.address]])]),_:1}),r(y,{prop:"parent_address",label:"Seller",align:"center","show-overflow-tooltip":""},{default:g(i=>[z((u(),S("span",Pe,[R(C(("stringStar"in o?o.stringStar:e(G))({value:i.row.parent_address,characters:"********",start:4})),1)])),[[U,i.row.parent_address]])]),_:1}),r(y,{prop:"username",label:"agent",align:"center"}),r(y,{prop:"usd",label:"amount(USD)",align:"center"}),r(y,{label:"type",align:"center"},{default:g(i=>[R(" P"+C(i.row.type),1)]),_:1})]),_:1},8,["data"])),[[Y,e(f)]])]),a("div",je,[((j=e(m).content)==null?void 0:j.length)!==0?(u(),B(w,{key:0,"current-page":e(c).page,"onUpdate:currentPage":d[2]||(d[2]=i=>e(c).page=i),background:"",size:"small","page-size":e(c).limit,"onUpdate:pageSize":d[3]||(d[3]=i=>e(c).limit=i),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(m).totalElements,onCurrentChange:b,onSizeChange:E},null,8,["current-page","page-size","total"])):L("",!0),a("div",He,[(H=e(n))!=null&&H.code?z((u(),S("div",Fe,[a("span",null,C((F=e(n))==null?void 0:F.code),1),We])),[[U,(W=e(n))==null?void 0:W.url]]):L("",!0),r(T,{class:"w-[180px]",color:"#ebebeb",round:"",onClick:p,loading:e(t)},{default:g(()=>[Ge]),_:1},8,["loading"]),a("div",{class:"flex items-center text-[#ebebebc8] hover:text-[#ebebeb] cursor-pointer",onClick:d[4]||(d[4]=i=>s.value=!0)},qe)])]),r(D,{"dialog-visible":e(s),"onUpdate:closeDialog":d[5]||(d[5]=i=>s.value=!1)},null,8,["dialog-visible"])])}}});export{Ze as default};
