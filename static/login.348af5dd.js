import{X as D,a as V,E as F}from"./utils.2fc1c99e.js";import{E as P,C as h,a as T,_ as j,b as C}from"./index.82cd262c.js";import{d as U,r as x,b as g,v as z,m as e,l as r,j as l,P as t,s as L,h as S,A as E,C as q,V as B,Q as N}from"./entry.08d69285.js";import{u as R}from"./user.90e8bbb9.js";import{t as m}from"./throttle.46d02480.js";const $={class:"w-full h-screen flex items-center justify-center bg-black"},I={class:"flex-1 flex items-center justify-center overflow-auto relative z-[9999]"},K={class:"p-8 h-full rounded-lg border"},A={class:"w-full h-full flex flex-col items-center justify-center Regular"},H=e("div",{class:"w-full flex flex-col py-2 z-[999]"},[e("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),e("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Log in your account")],-1),M={class:"w-full mt-4"},J=e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),Q=e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),X={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},G=e("span",{class:"text-[#8F8F8F] z-[999]"},"Don't have an account?",-1),O={class:"text-[#EDEDED] cursor-pointer z-[999]"},W={class:"w-full flex justify-center px-12 mb-2 mt-4"},Y=e("span",{class:"text-black Regular font-semibold text-[14px] uppercase"}," Login",-1),re=U({__name:"login",setup(Z){const i=x(),_=R(),a=g({email:"",password:"",recaptcha_token:""}),d=x(!1),v=g({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),u=async o=>{_.cleaUserInfo(),o&&(d.value||await o.validate(async(s,f)=>{if(s)try{d.value=!0;const c={username:a.email.trim(),password:h.SHA256(a.password).toString(h.enc.Hex).trim(),recaptcha_token:a.recaptcha_token.trim()},p=await D({...c});p.code===200?(_.setToken(p.data.token),B("/home")):N.error(p.msg)}catch{}finally{d.value=!1}}))},w=o=>{a.recaptcha_token=o,i.value.clearValidate("recaptcha_token")};return(o,s)=>{const f=V,c=T,p=j,y=C,b=F,k=P;return S(),z("div",$,[e("div",I,[e("div",K,[e("div",A,[H,e("div",M,[r(k,{model:t(a),class:"",ref_key:"ruleFormRef",ref:i,rules:t(v),"label-position":"top","hide-required-asterisk":"",onSubmit:s[5]||(s[5]=L(n=>("throttle"in o?o.throttle:t(m))(()=>{u(t(i))}),["prevent"]))},{default:l(()=>[r(c,{label:"Email or username",prop:"email"},{default:l(()=>[r(f,{style:{height:"42px"},placeholder:"Enter your email or username",maxlength:50,modelValue:t(a).email,"onUpdate:modelValue":s[0]||(s[0]=n=>t(a).email=n),onKeyup:s[1]||(s[1]=E(n=>("throttle"in o?o.throttle:t(m))(()=>{u(t(i))}),["enter","native"]))},{prefix:l(()=>[J]),_:1},8,["modelValue"])]),_:1}),r(c,{label:"Password",prop:"password"},{default:l(()=>[r(f,{style:{height:"42px"},placeholder:"Enter your password",maxlength:50,type:"password",modelValue:t(a).password,"onUpdate:modelValue":s[2]||(s[2]=n=>t(a).password=n),"show-password":"",onKeyup:s[3]||(s[3]=E(n=>("throttle"in o?o.throttle:t(m))(()=>{u(t(i))}),["enter","native"])),oncopy:"return false"},{prefix:l(()=>[Q]),_:1},8,["modelValue"])]),_:1}),r(c,{prop:"recaptcha_token"},{default:l(()=>[r(p,{onToUpdate:w,id:"login_recaptcha_token",class:"mt-2"})]),_:1}),e("div",X,[G,e("span",O,[r(y,{to:"/register"},{default:l(()=>[q("Sign up")]),_:1})])]),e("div",W,[r(b,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:t(d),onClick:s[4]||(s[4]=n=>("throttle"in o?o.throttle:t(m))(()=>{u(t(i))}))},{default:l(()=>[Y]),_:1},8,["loading"])])]),_:1},8,["model","rules"])])])])])])}}});export{re as default};
