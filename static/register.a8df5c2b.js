import{Y as C,a as F,E as R}from"./utils.2fc1c99e.js";import{C as h,a as q,_ as I,b as j,E as T}from"./index.82cd262c.js";import{_ as $}from"./client-only.bc3b3a26.js";import{d as z,r as E,bu as K,b as v,v as L,l as a,j as n,h as B,m as t,P as s,s as N,A as _,C as S,Q as w,V as A}from"./entry.08d69285.js";import{u as H}from"./user.90e8bbb9.js";import{t as c}from"./throttle.46d02480.js";const M={class:"w-full h-screen flex items-center justify-center bg-black"},Y={class:"flex-1 flex items-center justify-center overflow-auto relative z-[9999]"},J={class:"px-8 py-2 h-full rounded-lg border"},O={class:"w-full h-full flex flex-col items-center justify-center Regular"},Q=t("div",{class:"w-full flex flex-col z-[999]"},[t("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),t("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Register your account")],-1),G={class:"w-full"},W=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),X=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),Z=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),ee=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),te=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-cfmpassword text-[#2E2E2E] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),se={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},oe=t("span",{class:"text-[#8F8F8F] z-[999]"},"I already have an account?",-1),re={class:"text-[#EDEDED] cursor-pointer z-[999]"},ae={class:"w-full flex justify-center px-12 mb-2 mt-4"},le=t("span",{class:"text-black Regular font-semibold text-[14px]"}," Register ",-1),_e=z({__name:"register",setup(ne){var g;const p=E(),y=H(),x=K(),o=v({email:"",password:"",username:"",confirm_Password:"",register_code:(g=x==null?void 0:x.query)==null?void 0:g.code,recaptcha_token:""}),m=E(!1),b=v({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],username:[{required:!0,message:"Please enter a valide username",trigger:"blur"},{min:6,max:20,message:"Length should be 6-20",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],register_code:[{required:!0,message:"Please enter a valide Invitation code",trigger:"blur"}],confirm_Password:[{validator:(r,e,i)=>{e===""?i(new Error("Please input the password again")):e!==o.password?i(new Error("Your password does not match")):i()},trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),u=async r=>{y.cleaUserInfo(),r&&(m.value||await r.validate(async(e,i)=>{if(e)try{m.value=!0;const d={email:o.email.trim(),username:o.username.trim(),password:h.SHA256(o.password).toString(h.enc.Hex).trim(),register_code:o.register_code.trim(),recaptcha_token:o.recaptcha_token.trim()},f=await C({...d});f.code===200?(w.success("success"),A("/login")):w.error(f.msg)}catch{}finally{m.value=!1}}))},D=r=>{o.recaptcha_token=r,p.value.clearValidate("recaptcha_token")};return(r,e)=>{const i=F,d=q,f=I,V=j,P=R,k=T,U=$;return B(),L("div",M,[a(U,null,{default:n(()=>[t("div",Y,[t("div",J,[t("div",O,[Q,t("div",G,[a(k,{model:s(o),class:"",ref_key:"ruleFormRef",ref:p,rules:s(b),"label-position":"top","hide-required-asterisk":"",onSubmit:e[10]||(e[10]=N(l=>("throttle"in r?r.throttle:s(c))(()=>{u(s(p))}),["prevent"]))},{default:n(()=>[a(d,{label:"Email",prop:"email"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your email",maxlength:50,modelValue:s(o).email,"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).email=l),onKeyup:e[1]||(e[1]=_(l=>("throttle"in r?r.throttle:s(c))(()=>{u(s(p))}),["enter","native"]))},{prefix:n(()=>[W]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"username",prop:"username"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your username (Length should be 6-20)",maxlength:50,modelValue:s(o).username,"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).username=l),onKeyup:e[3]||(e[3]=_(l=>("throttle"in r?r.throttle:s(c))(()=>{u(s(p))}),["enter","native"]))},{prefix:n(()=>[X]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Invitation code",prop:"register_code"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your Invitation code",modelValue:s(o).register_code,"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).register_code=l)},{prefix:n(()=>[Z]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Password",prop:"password"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your password",maxlength:50,type:"password",modelValue:s(o).password,"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).password=l),"show-password":"",onKeyup:e[6]||(e[6]=_(l=>("throttle"in r?r.throttle:s(c))(()=>{u(s(p))}),["enter","native"])),oncopy:"return false"},{prefix:n(()=>[ee]),_:1},8,["modelValue"])]),_:1}),a(d,{prop:"confirm_Password"},{default:n(()=>[a(i,{maxlength:50,placeholder:"Confirm password",type:"password",onKeyup:e[7]||(e[7]=_(l=>("throttle"in r?r.throttle:s(c))(()=>{u(s(p))}),["enter","native"])),modelValue:s(o).confirm_Password,"onUpdate:modelValue":e[8]||(e[8]=l=>s(o).confirm_Password=l),"show-password":"",oncopy:"return false"},{prefix:n(()=>[te]),_:1},8,["modelValue"])]),_:1}),a(d,{prop:"recaptcha_token"},{default:n(()=>[a(f,{onToUpdate:D,id:"register_recaptcha_token",class:"mt-2"})]),_:1}),t("div",se,[oe,t("span",re,[a(V,{to:"/login"},{default:n(()=>[S("Login")]),_:1})])]),t("div",ae,[a(P,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:s(m),onClick:e[9]||(e[9]=l=>("throttle"in r?r.throttle:s(c))(()=>{u(s(p))}))},{default:n(()=>[le]),_:1},8,["loading"])])]),_:1},8,["model","rules"])])])])])]),_:1})])}}});export{_e as default};
